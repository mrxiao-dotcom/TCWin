# 币安期货交易管理器使用说明

## 功能概览

本程序是一个专业的币安期货交易管理工具，支持多账户管理、实时数据监控、智能下单和风险控制。

### 主要特性
- ✅ 多账户管理，支持测试网和正式网
- ✅ 实时获取账户信息、持仓和委托单
- ✅ 智能下单功能，支持条件单
- ✅ 杠杆快捷设置（1x-20x）
- ✅ 风险管理和自动计算
- ✅ 定时器自动更新数据
- ✅ 一键平仓和批量撤单

## 快速开始

### 1. 账户配置

#### 添加新账户
1. 点击顶部的"账户配置"按钮
2. 在弹出窗口中点击"添加账户"
3. 填写以下信息：
   - **账户名称**：自定义名称（如："主账户"、"测试账户"）
   - **API Key**：从币安获取的API密钥
   - **Secret Key**：对应的私钥
   - **风险倍数**：用于计算最大风险金（建议5-10倍）
   - **是否测试网**：勾选后连接到测试环境

#### 币安API密钥获取
1. 登录币安官网
2. 进入"API管理"页面
3. 创建新的API密钥
4. 开启以下权限：
   - ✅ 现货与杠杆交易
   - ✅ 期货交易
   - ❌ 提币权限（保持关闭）

### 2. 基础操作

#### 选择账户
- 在顶部下拉框中选择要使用的账户
- 选择后程序会自动连接并获取数据
- 定时器开始自动更新（每5秒）

#### 查看账户信息
账户信息区显示：
- **总权益**：账户总价值
- **保证金占用**：当前持仓使用的保证金
- **浮盈**：未实现盈亏
- **可用余额**：可用于开新仓的资金

#### 持仓管理
- 左侧显示当前所有持仓
- 点击持仓行可以选中该持仓
- 选中后右侧委托单会自动过滤显示该合约的订单

#### 委托单管理
- 右侧显示委托单列表
- 自动过滤显示选中持仓的相关订单
- 实时更新订单状态

## 高级功能

### 1. 杠杆快捷设置

#### 使用杠杆按钮
- 界面中部有杠杆快捷按钮：1x、3x、5x、10x、20x
- 点击按钮自动设置对应杠杆
- 当前杠杆会实时显示

#### 杠杆风险提示
- 1x-3x：低风险，适合新手
- 5x-10x：中等风险，需要经验
- 20x：高风险，仅限专业用户

### 2. 智能下单

#### 基础下单
1. 在下单区填写：
   - **合约名**：如BTCUSDT、ETHUSDT
   - **交易方向**：买入(BUY)或卖出(SELL)
   - **杠杆倍数**：或使用上方快捷按钮
   - **数量**：合约数量

2. 设置订单类型：
   - **MARKET**：市价单，立即成交
   - **LIMIT**：限价单，指定价格挂单
   - **条件单**：触发条件后自动下单

3. 点击绿色"下单"按钮执行

#### 条件单功能（新）
1. **启用条件单**：勾选复选框
2. **设置条件类型**：
   - **向上突破**：价格上涨突破设定价格时触发
   - **向下突破**：价格下跌突破设定价格时触发
3. **设置突破价格**：输入触发价格
4. **配置正常下单参数**：数量、方向等
5. **点击下单**：系统开始监控价格变化

#### 条件单监控
- 右侧"条件单监控"区域显示活跃的条件单
- 实时检测价格变化
- 满足条件时自动执行下单

### 3. 风险管理

#### 止损设置
1. **止损比例**：输入百分比（如2表示2%）
2. **止损价**：自动计算或手动输入
3. **止损金额**：预期最大亏损金额

#### 智能计算按钮
1. **最大风险金**：
   - 根据账户权益和风险倍数计算
   - 公式：权益 ÷ 风险倍数
   - 建议不超过总资金的10-20%

2. **以损定量**：
   - 根据止损比例和金额反推合约数量
   - 确保亏损控制在预期范围内
   - 公式：止损金额 ÷ (价格 × 止损比例)

#### 价格更新
- 点击"更新"按钮获取最新价格
- 选择持仓时自动更新对应合约价格
- 定时器每5秒自动更新

### 4. 快速操作

#### 一键平仓
- 红色"一键平仓"按钮
- 立即平掉所有持仓
- ⚠️ 高风险操作，请谨慎使用

#### 平仓选中持仓
- 选择要平仓的持仓
- 点击"平仓"按钮
- 只平掉选中的持仓

#### 清理委托单
- 撤销所有挂着的委托单
- 清理无效或不需要的订单

### 5. 定时器功能

#### 自动更新
- **价格定时器**：每5秒更新当前合约价格
- **数据定时器**：每5秒更新账户、持仓、订单信息

#### 手动控制
- **暂停/恢复定时器**：手动控制自动更新
- **手动刷新**：立即获取最新数据
- **自动启停**：选择账户时自动启动，取消选择时自动停止

#### 状态监控
- 底部状态栏显示：
  - 当前操作状态
  - 最后更新时间
  - 错误信息（如果有）

## 界面说明

### 窗口布局
1. **顶部**：账户选择和控制按钮
2. **账户信息栏**：显示资金状况
3. **持仓委托区**：左右分栏显示持仓和订单
4. **杠杆设置区**：快捷杠杆按钮
5. **下单操作区**：主要交易界面
6. **条件单区**：条件单设置和监控
7. **底部状态栏**：实时状态信息

### 颜色含义
- 🟢 **绿色**：买入、盈利、正常状态
- 🔴 **红色**：卖出、亏损、高风险操作
- 🔵 **蓝色**：信息提示、当前值
- ⚪ **灰色**：禁用状态、说明文字

## 安全建议

### 资金安全
1. **小资金测试**：首次使用时用少量资金测试
2. **风险控制**：设置合理的风险倍数（建议5-10倍）
3. **止损设置**：每笔交易都要设置止损
4. **分散投资**：不要把所有资金放在一个合约上

### 操作安全
1. **谨慎操作**：一键平仓等高风险操作要三思而后行
2. **确认信息**：下单前仔细检查合约、数量、方向
3. **网络安全**：确保网络连接稳定，避免意外中断
4. **定期检查**：定期查看持仓和订单状态

### API安全
1. **密钥保护**：妥善保管API密钥，不要泄露给他人
2. **权限控制**：只开启必要的API权限
3. **定期更换**：定期更换API密钥
4. **IP限制**：在币安设置IP白名单

## 常见问题

### Q1：连接失败怎么办？
A：检查网络连接、API密钥设置、权限配置

### Q2：价格不更新？
A：检查合约名称是否正确，网络是否稳定

### Q3：下单失败？
A：检查账户余额、合约精度、杠杆设置

### Q4：条件单不触发？
A：确认价格监控正常，条件设置正确

### Q5：数据显示异常？
A：尝试手动刷新，或重新选择账户

## 支持和反馈

如果遇到问题或有改进建议，请：
1. 查看底部状态栏的错误信息
2. 检查控制台日志输出
3. 确认网络和API配置正确
4. 联系技术支持

---

**⚠️ 风险提示**
期货交易具有高风险，可能造成重大损失。请在充分了解风险的基础上谨慎交易，建议先在测试网环境熟悉功能后再使用真实资金。 