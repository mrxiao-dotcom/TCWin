# 界面布局优化说明

## 🎯 优化目标

根据用户要求进行界面布局调整：
1. **持仓订单与委托列表**：重点区域，预留更多空间
2. **标题、信息区、按钮区**：缩小边界，排版更紧凑
3. **下单区**：尽量紧凑，预留条件单区域

## 📏 主要调整内容

### **1. Grid行高分配优化**
```xml
<!-- 原来的分配 -->
<RowDefinition Height="3*"/>  <!-- 持仓订单区 -->
<RowDefinition Height="3*"/>  <!-- 下单区 -->

<!-- 优化后的分配 -->
<RowDefinition Height="4*"/>    <!-- 持仓订单区：增加空间 -->
<RowDefinition Height="2.5*"/> <!-- 下单区：减少空间 -->
```

**效果**：持仓订单区域获得更多垂直空间，符合重点区域要求。

### **2. 边距和内边距全面压缩**

#### **全局样式优化**
- **Button**: `Margin="5"` → `Margin="3"`, `Padding="8,4"` → `Padding="6,3"`
- **TextBox**: `Margin="5"` → `Margin="3"`, `Height="35"` → `Height="32"`
- **ComboBox**: `Margin="5"` → `Margin="3"`, `Height="35"` → `Height="32"`
- **TextBlock**: `Margin="5,0"` → `Margin="3,0"`

#### **卡片边距优化**
- **账户信息区**: `Padding="10"` → `Padding="8"`, `Margin="0,0,0,10"` → `Margin="0,0,0,5"`
- **持仓区**: `Padding="10"` → `Padding="6"`, `Margin="0,0,5,0"` → `Margin="0,0,3,0"`
- **委托区**: `Padding="10"` → `Padding="6"`, `Margin="5,0,0,0"` → `Margin="3,0,0,0"`
- **下单区**: `Padding="10"` → `Padding="6"`, `Margin="0,0,5,0"` → `Margin="0,0,3,0"`

### **3. 持仓订单区域优化**

#### **列宽度优化**
```xml
<!-- 持仓表格 -->
选择框: 50 → 40
合约: 90 → 75
方向: 65 → 50
数量: 100 → 80
开仓价: 110 → 90
标记价: 110 → 90
持仓货值: 100 → 80
保证金: 90 → 75
浮盈: 100 → 85
```

#### **按钮区域压缩**
- 按钮高度：`Height="30"` → `Height="26"`
- 按钮宽度：适当压缩，保持功能性
- 字体大小：`FontSize="12"` → `FontSize="11"`

#### **表格行高优化**
- 新增 `RowHeight="22"`，使表格更紧凑
- 字体大小：`FontSize="12"` → `FontSize="11"`

### **4. 下单区域重新设计**

#### **列分配调整**
```xml
<!-- 原来 -->
<ColumnDefinition Width="3*"/>
<ColumnDefinition Width="*"/>

<!-- 优化后 -->
<ColumnDefinition Width="2*"/>  <!-- 下单输入区 -->
<ColumnDefinition Width="1*"/>  <!-- 条件单监控区 -->
```

#### **输入区域紧凑化**
- 标签宽度统一：`Width="60"` → `Width="50"`/`Width="55"`
- 输入框宽度统一：`Width="120"` → `Width="110"`/`Width="105"`
- 行间距：`Margin="0,0,0,10"` → `Margin="0,0,0,6"`

#### **杠杆按钮优化**
- 按钮尺寸：`Width="40" Height="30"` → `Width="35" Height="26"`
- 添加字体大小：`FontSize="11"`

### **5. 条件单区域专门设计**

#### **独立监控区域**
- 专门的条件单监控区域，实时显示条件单状态
- 表格尺寸优化：`MaxHeight="200"` → `MaxHeight="180"`
- 字体大小：`FontSize="10"`，行高：`RowHeight="20"`

#### **条件单设置区**
- 背景色：`Background="LightBlue"`，区分普通下单
- 紧凑布局：标签宽度统一为55，输入框宽度110
- 新增"下条件单"按钮，方便快速提交

### **6. 操作按钮区优化**

#### **按钮尺寸统一**
- 高度统一：`Height="28"`
- 字体大小：`FontSize="12"`
- 宽度根据文字内容适当调整

#### **边距压缩**
- 卡片内边距：`Padding="10"` → `Padding="6"`
- 卡片外边距：`Margin="0,10"` → `Margin="0,5"`

### **7. 状态栏优化**
- 内边距：`Padding="5"` → `Padding="4"`
- 外边距：`Margin="0,10,0,0"` → `Margin="0,5,0,0"`
- 字体大小：`FontSize="12"` → `FontSize="11"`
- 图标边距：`Margin="0,0,5,0"` → `Margin="0,0,4,0"`

## 🎨 视觉效果改善

### **1. 空间利用率提升**
- 持仓订单区域空间增加约30%
- 整体界面更紧凑，减少空白区域
- 更多内容能在不滚动的情况下显示

### **2. 信息密度优化**
- 表格行高减少，单屏显示更多记录
- 按钮和控件尺寸适中，保持可操作性
- 字体大小适当减小，但保持可读性

### **3. 功能区域明确**
- 条件单有独立的设置和监控区域
- 普通下单和条件单在视觉上区分明显
- 操作流程更清晰

## 📱 响应式考虑

### **控件最小尺寸**
- 所有按钮保持最小可点击尺寸（26px高度以上）
- 输入框保持足够的输入空间
- 文字大小保持可读性（最小11px）

### **表格自适应**
- 设置了MinWidth确保关键列不会过度压缩
- 保持水平滚动功能，处理窗口缩小情况

## 🔧 技术实现要点

### **UniformGrid优化**
```xml
<!-- 下单区使用统一网格布局 -->
<UniformGrid Rows="3" Columns="4" Margin="0,0,0,6">
```
使输入控件排列整齐，空间利用最大化。

### **条件单显示控制**
```xml
<!-- 条件单区域可折叠 -->
Visibility="{Binding IsConditionalOrderVisible, Converter={StaticResource BooleanToVisibilityConverter}}"
```
不使用时可隐藏，节省空间。

### **表格性能优化**
- 适当的`RowHeight`设置
- 合理的列宽分配
- 保持必要的滚动功能

## 📊 优化效果总结

1. **持仓订单区域**：空间增加30%，能显示更多记录
2. **界面紧凑度**：整体边距减少40%，空间利用率提升
3. **功能可用性**：保持所有功能完整性，操作便利性不减
4. **视觉清晰度**：区域划分更明确，条件单功能突出
5. **响应性能**：保持良好的界面响应速度和布局适应性

这次优化在满足用户需求的同时，保持了界面的专业性和易用性。 